export const metroStations = [
    {
      id: 1,
      name: "Nagasandra",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 2,
      name: "Dasarahalli",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 3,
      name: "Jalahalli",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 4,
      name: "Peenya Industry",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 5,
      name: "Peenya",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 6,
      name: "Goraguntepalya",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 7,
      name: "Yeshwanthpur",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 8,
      name: "Sandal Soap Factory",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 9,
      name: "Mahalakshmi",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 10,
      name: "Rajajinagar",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 11,
      name: "Mahakavi Kuvempu Road",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 12,
      name: "Srirampura",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 13,
      name: "Mantri Square Sampige Road",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 14,
      name: "Majestic",
      line: "Green",
      isJunction: true,
      changeToLine: "Purple",
      changePlatform: "2",
      changeTowards: "Whitefield/Baiyappanahalli",
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 15,
      name: "Chickpete",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 16,
      name: "Krishna Rajendra Market",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 17,
      name: "National College",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 18,
      name: "Lalbagh",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 19,
      name: "South End Circle",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 20,
      name: "Jayanagar",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 21,
      name: "Rashtriya Vidyalaya Road",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 22,
      name: "Banashankari",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 23,
      name: "Jaya Prakash Nagar",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 24,
      name: "Yelachenahalli",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 25,
      name: "Konanakunte Cross",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 26,
      name: "Doddakallasandra",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 27,
      name: "Vajarahalli",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 28,
      name: "Thalaghattapura",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "Silk Institute"
    },
    {
      id: 29,
      name: "Silk Institute",
      line: "Green",
      isJunction: false,
      platform: "1",
      towards: "End of Line"
    },
    {
      id: 30,
      name: "Whitefield",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 31,
      name: "Hopefarm Whitefield",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 32,
      name: "Kundalahalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 33,
      name: "Nallurhalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 34,
      name: "Sadaramangala",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 35,
      name: "Pattandur Agrahara",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 36,
      name: "Kadugodi Tree Park",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 37,
      name: "Channasandra",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 38,
      name: "Benniganahalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 39,
      name: "Baiyappanahalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 40,
      name: "Swami Vivekananda Road",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 41,
      name: "Indiranagar",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 42,
      name: "Halasuru",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 43,
      name: "Trinity",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 44,
      name: "Mahatma Gandhi Road",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 45,
      name: "Cubbon Park",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 46,
      name: "Dr. B.R. Ambedkar Station",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 47,
      name: "Sir M. Visvesvaraya Station",
      line: "Purple",
      isJunction: true,
      changeToLine: "Green",
      changePlatform: "3",
      changeTowards: "Nagasandra/Silk Institute",
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 48,
      name: "Krantivira Sangolli Rayanna Railway Station",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 49,
      name: "Magadi Road",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 50,
      name: "Hosahalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 51,
      name: "Vijayanagar",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 52,
      name: "Attiguppe",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 53,
      name: "Deepanjali Nagar",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 54,
      name: "Mysore Road",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 55,
      name: "Nayandahalli",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 56,
      name: "Rajarajeshwari Nagar",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 57,
      name: "Jnanabharathi",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 58,
      name: "Pattanagere",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 59,
      name: "Kengeri",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 60,
      name: "Kengeri Bus Terminal",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "Challaghatta"
    },
    {
      id: 61,
      name: "Challaghatta",
      line: "Purple",
      isJunction: false,
      platform: "1",
      towards: "End of Line"
    }
  ];

  // Define fare calculation logic
export const calculateFare = (numStations) => {
    if (numStations <= 2) return 10;
    if (numStations <= 4) return 15;
    if (numStations <= 6) return 20;
    if (numStations <= 9) return 25;
    if (numStations <= 12) return 30;
    if (numStations <= 15) return 35;
    if (numStations <= 18) return 40;
    if (numStations <= 21) return 45;
    return 50; // For longer journeys
  };
  
  // Define time calculation (average 2 minutes per station)
  export const calculateTime = (numStations, hasLineChange) => {
    // Basic calculation: 2 minutes per station
    let time = numStations * 2;
    
    // Add 5 minutes for line change if applicable
    if (hasLineChange) {
      time += 5;
    }
    
    return time;
  };
  
  // Helper function to find path between stations
  export const findRoute = (fromStationId, toStationId) => {
    const fromStation = metroStations.find(station => station.id === parseInt(fromStationId));
    const toStation = metroStations.find(station => station.id === parseInt(toStationId));
    
    if (!fromStation || !toStation) {
      return {
        error: "Invalid stations selected"
      };
    }
    
    // If on same line, direct route
    if (fromStation.line === toStation.line) {
      const stations = findDirectRoute(fromStation, toStation);
      const numStations = stations.length;
      const travelTime = calculateTime(numStations - 1, false);
      const fare = calculateFare(numStations - 1);
      
      return {
        fare,
        travelTime,
        numStations: numStations - 1,
        lineChanges: 0,
        stations
      };
    } 
    // Need to change lines
    else {
      // Find junction station (Majestic/Sir M. Visvesvaraya Station)
      const junctionId = fromStation.line === "Green" ? 14 : 47; // 14 is Majestic, 47 is Sir M. Visvesvaraya Station
      const junctionStation = metroStations.find(station => station.id === junctionId);
      
      // Get route from source to junction
      const firstLeg = findDirectRoute(fromStation, junctionStation);
      
      // Get route from junction to destination
      const secondLeg = findDirectRoute(junctionStation, toStation);
      
      // Combine routes
      const stations = [...firstLeg.slice(0, -1), ...secondLeg];
      const numStations = stations.length;
      const travelTime = calculateTime(numStations - 1, true);
      const fare = calculateFare(numStations - 1);
      
      return {
        fare,
        travelTime,
        numStations: numStations - 1,
        lineChanges: 1,
        stations,
        changeStation: junctionStation.name
      };
    }
  };
  
  // Helper function to find direct route between stations on same line
  const findDirectRoute = (fromStation, toStation) => {
    // Both stations are on the same line
    const line = fromStation.line;
    const lineStations = metroStations.filter(station => station.line === line);
    
    // Sort stations by ID to represent the sequence
    lineStations.sort((a, b) => a.id - b.id);
    
    const fromIndex = lineStations.findIndex(station => station.id === fromStation.id);
    const toIndex = lineStations.findIndex(station => station.id === toStation.id);
    
    // Determine direction
    if (fromIndex < toIndex) {
      // Forward direction
      return lineStations.slice(fromIndex, toIndex + 1);
    } else {
      // Reverse direction
      return lineStations.slice(toIndex, fromIndex + 1).reverse();
    }
  };